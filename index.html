<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lux VTT Mobile</title>
    <style>
        /* --- RESET & BASE --- */
        * { box-sizing: border-box; margin: 0; padding: 0; user-select: none; -webkit-user-select: none; }
        body { overflow: hidden; background: #000; font-family: 'Segoe UI', sans-serif; }

        /* --- 1. MENSAGEM DE ROTA√á√ÉO (Bloqueio) --- */
        #orientation-warning {
            position: fixed;
            top: 0; left: 0; width: 100vw; height: 100vh;
            background: #1a1a1a;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
            padding: 20px;
            transition: opacity 0.5s;
        }
        
        /* √çcone de girar animado */
        .rotate-icon {
            font-size: 60px;
            margin-bottom: 20px;
            animation: rotate-anim 2s infinite ease-in-out;
        }
        @keyframes rotate-anim {
            0% { transform: rotate(0deg); }
            50% { transform: rotate(-90deg); }
            100% { transform: rotate(0deg); }
        }

        /* --- LOGICA DE EXIBI√á√ÉO DA MENSAGEM --- */
        /* Por padr√£o (Portrait), mostramos o aviso. */
        #ui-layer, #map-container { display: none; } 
        
        /* Quando estiver em PAISAGEM (Landscape), escondemos o aviso e mostramos o jogo */
        @media (orientation: landscape) {
            #orientation-warning { display: none; }
            #ui-layer, #map-container { display: block; }
        }

        /* --- 2. CAMADA DO MAPA --- */
        #map-container {
            position: absolute;
            top: 0; left: 0;
            width: 100vw; height: 100vh;
            background: radial-gradient(circle, #333, #000); /* Placeholder */
            /* Aqui viria seu canvas */
            background-image: linear-gradient(#333 1px, transparent 1px),
            linear-gradient(90deg, #333 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: 0;
        }

        /* --- 3. UI FLUTUANTE (LAYOUT HORIZONTAL) --- */
        #ui-layer {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 10;
        }

        /* Barra Lateral ESQUERDA (Menus) */
        .hud-side-left {
            position: absolute;
            left: 10px; top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 15px;
            pointer-events: auto;
        }

        /* Barra Lateral DIREITA (A√ß√µes) */
        .hud-side-right {
            position: absolute;
            right: 10px; top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 15px;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            padding: 10px;
            border-radius: 30px;
            pointer-events: auto;
        }

        /* Barra TOPO (Status/Turno) */
        .hud-top-status {
            position: absolute;
            top: 0; left: 0; width: 100%;
            text-align: center;
            padding: 5px;
            background: linear-gradient(to bottom, rgba(0,0,0,0.8), transparent);
            color: #ddd;
            font-size: 0.9rem;
            pointer-events: none;
        }

        /* Estilo dos Bot√µes */
        .btn-icon {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: white;
            font-size: 20px;
            width: 48px; height: 48px;
            border-radius: 50%;
            cursor: pointer;
            transition: 0.2s;
        }
        .btn-icon:active { background: rgba(255,255,255,0.4); transform: scale(0.95); }
        
        .btn-dice {
            background: #d35400; /* Laranja destaque */
            border-color: #e67e22;
            width: 58px; height: 58px;
            font-size: 28px;
            box-shadow: 0 0 15px rgba(211, 84, 0, 0.6);
        }

        /* --- 4. DRAWERS (GAVETAS) --- */
        .drawer {
            position: fixed;
            top: 0; bottom: 0;
            background: rgba(30, 30, 30, 0.95);
            width: 400px; /* Fixo em desktop/tablet */
            max-width: 50vw; /* M√°ximo 50% da tela em mobile landscape */
            z-index: 20;
            transition: transform 0.3s ease;
            box-shadow: 0 0 20px rgba(0,0,0,0.8);
            border-left: 1px solid #444;
            display: flex;
            flex-direction: column;
        }

        .drawer.right { right: 0; transform: translateX(100%); }
        .drawer.left { left: 0; transform: translateX(-100%); border-right: 1px solid #444; border-left: none; }
        .drawer.active { transform: translateX(0); }

        .drawer-header {
            padding: 10px 15px;
            background: #252525;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #444;
            color: white;
        }
        .drawer-body { flex: 1; padding: 15px; color: #ccc; overflow-y: auto; }

    </style>
</head>
<body>

    <div id="orientation-warning">
        <div class="rotate-icon">üì± ‚ûî üíª</div>
        <h2>Melhor Experi√™ncia em Paisagem</h2>
        <p>O Lux VTT precisa de espa√ßo.<br>Por favor, vire seu dispositivo.</p>
    </div>

    <div id="map-container"></div>

    <div id="ui-layer">
        
        <div class="hud-top-status">
            Turno 3: <strong>Guerreiro (Voc√™)</strong>
        </div>

        <div class="hud-side-left">
            <button class="btn-icon" onclick="toggleDrawer('menu-drawer')">‚ò∞</button>
            <button class="btn-icon" onclick="toggleDrawer('chat-drawer')">üí¨</button>
        </div>

        <div class="hud-side-right">
            <button class="btn-icon" title="Medir">üìè</button>
            <button class="btn-icon" title="Mover">‚úã</button>
            <button class="btn-icon btn-dice" onclick="rollDice()" title="Rolar">üé≤</button>
            <button class="btn-icon" title="Ping">üìç</button>
            <button class="btn-icon" onclick="toggleDrawer('sheet-drawer')" title="Ficha">üìÑ</button>
        </div>
    </div>

    <div id="menu-drawer" class="drawer left">
        <div class="drawer-header">Menu <button class="btn-icon" style="width:30px;height:30px;font-size:14px" onclick="closeAll()">‚úï</button></div>
        <div class="drawer-body">Op√ß√µes do Sistema...</div>
    </div>

    <div id="chat-drawer" class="drawer left">
        <div class="drawer-header">Chat <button class="btn-icon" style="width:30px;height:30px;font-size:14px" onclick="closeAll()">‚úï</button></div>
        <div class="drawer-body">
            <p><strong>GM:</strong> Rolem iniciativa!</p>
        </div>
    </div>

    <div id="sheet-drawer" class="drawer right">
        <div class="drawer-header">Ficha <button class="btn-icon" style="width:30px;height:30px;font-size:14px" onclick="closeAll()">‚úï</button></div>
        <div class="drawer-body">
            <h3>HP: 24/30</h3>
            <hr style="border-color:#444; margin: 10px 0">
            <p>Ataque Espada Longa (+5)</p>
        </div>
    </div>

    <script>
        function toggleDrawer(id) {
            const el = document.getElementById(id);
            const isActive = el.classList.contains('active');
            closeAll(); // Fecha outros para focar
            if (!isActive) el.classList.add('active');
        }

        function closeAll() {
            document.querySelectorAll('.drawer').forEach(d => d.classList.remove('active'));
        }

        function rollDice() {
            // Exemplo de feedback visual r√°pido
            const btn = document.querySelector('.btn-dice');
            btn.style.transform = "rotate(360deg)";
            setTimeout(() => btn.style.transform = "none", 500);
            alert("Rolagem!");
        }

        // Tenta colocar em Fullscreen ao girar para ganhar mais espa√ßo
        window.addEventListener("orientationchange", function() {
            if (screen.orientation.type.includes("landscape")) {
                document.documentElement.requestFullscreen().catch(e => {});
            }
        });
    </script>
</body>
</html>